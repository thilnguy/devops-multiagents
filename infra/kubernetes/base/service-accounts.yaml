# Kubernetes Service Accounts with IRSA annotations
# These connect K8s service accounts to AWS IAM roles
apiVersion: v1
kind: ServiceAccount
metadata:
  name: infra-bot
  namespace: devops-multiagents
  annotations:
    # This annotation will be replaced with actual ARN after terraform apply
    eks.amazonaws.com/role-arn: "${INFRA_BOT_ROLE_ARN}"
  labels:
    app: devops-multiagents
    agent: infra-bot
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: watchdog
  namespace: devops-multiagents
  annotations:
    # This annotation will be replaced with actual ARN after terraform apply
    eks.amazonaws.com/role-arn: "${WATCHDOG_ROLE_ARN}"
  labels:
    app: devops-multiagents
    agent: watchdog
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: kube-master
  namespace: devops-multiagents
  annotations:
    # This annotation will be replaced with actual ARN after terraform apply
    eks.amazonaws.com/role-arn: "${KUBE_MASTER_ROLE_ARN}"
  labels:
    app: devops-multiagents
    agent: kube-master
